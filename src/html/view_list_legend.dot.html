<div>
  {{?it.data.style \u0026\u0026 it.data.style.rules}}
  {{ var isPoint = mx.helpers.path(it,\u0022data.geometry.type\u0022) == \u0022point\u0022; }}
  {{ var isLine = mx.helpers.path(it,\u0022data.geometry.type\u0022) == \u0022line\u0022; }}
  {{ var isPolygon = mx.helpers.path(it,\u0022data.geometry.type\u0022) == \u0022polygon\u0022; }}
  {{ var isNumeric = mx.helpers.path(it,\u0022data.attribute.type\u0022) != \u0022string\u0022; }}
  <ul>
    {{~it.data.style.rules :item}}
    {{ var lang = mx.helpers.checkLanguage({obj:item, path:\u0022label_\u0022, concat:true}) ; }}
    {{?item}}
    <li>
      <div class="mx-legend-item-container">
        <input type="checkbox" data-view_action_key="btn_legend_filter" data-view_action_target="{{=it.id}}" data-view_action_value="{{=item.value}}" data-view_action_variable="{{=it.data.attribute.name}}" name="{{=it.id}}_{{=item.value}}" id="{{=it.id}}_{{=item.value}}"/>
        <div class="mx-legend-item-arrow">
          {{?isNumeric }}
          â‰¥
          {{??}}
          =
          {{?}}
        </div>
        <label for="{{=it.id}}_{{=item.value}}">
          <div class="mx-legend-item-color-container" style="opacity:{{=item.opacity}};">
            <div class="mx-legend-item-color" style="{{?isLine }}height:{{=item.size*2}}px;{{?}}{{?isPoint }}width:{{=Math.log(0+item.size*10)*2}}px;height:{{=Math.log(0+item.size*10)*2}}px;border-radius:100%;{{?}}background-color:{{=item.color}};{{? item.sprite }}background-image:{{=item.sprite}};{{?}}"></div>
          </div>
          <div class="mx-legend-item-label" title="{{?item[\u0022label_\u0022 + lang]}}{{=item[\u0022label_\u0022 + lang]}}{{??}}{{=item.value}}{{?}}">{{?item[\u0022label_\u0022 + lang]}}{{=item["label_" + lang]}}{{??}}{{=item.value}}{{?}}</div>
        </label>
      </div>
    </li>
    {{?}}
    {{~}}
  </ul>
  {{?}}
</div>
