webpackJsonp([56],{429:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addDragDropToMedium=function(e){var t="medium-editor-dragover";function n(n){for(var i=e.util.getContainerEditorElement(n),r=Array.prototype.slice.call(i.parentElement.querySelectorAll("."+t)),a=r,o=function(e){e.classList.remove(t)},s=0;s<a.length;s++)o(a[s])}var r=e.Extension.extend({name:"fileDragging",allowedTypes:["image"],init:function(){e.Extension.prototype.init.apply(this,arguments),this.subscribe("editableDrag",this.handleDrag.bind(this)),this.subscribe("editableDrop",this.handleDrop.bind(this))},handleDrag:function(e){e.preventDefault(),e.dataTransfer.dropEffect="copy";var i=e.target.classList?e.target:e.target.parentElement;n(i),"dragover"===e.type&&i.classList.add(t)},handleDrop:function(e){e.preventDefault(),e.stopPropagation(),this.base.selectElement(e.target);var t=this.base.exportSelection();if(t.start=t.end,this.base.importSelection(t),e.dataTransfer.files){var i=e.dataTransfer.files.item(0);this.isAllowedFile(i)&&i.type.match("image")&&this.insertImageFile(i)}n(e.target)},isAllowedFile:function(e){return this.allowedTypes.some(function(t){return!!e.type.match(t)})},insertImageFile:function(e){if("function"===typeof FileReader){var t=new FileReader;t.readAsDataURL(e),t.addEventListener("load",function(e){var t=this.base.getSelectedParentElement(),n=new Image,r=document.createElement("p"),a=document.createElement("span"),o=i.helpers.makeId(10);n.id=o,i.helpers.getDictItem("loading_img").then(function(e){a.innerHTML="["+e+" ]"}),r.appendChild(n),r.appendChild(a);var s=this.base;n.onload=function(){a.remove(),s.checkContentChanged(s.elements[0])},t.appendChild(r),Shiny.onInputChange("imageUpload",{img:e.target.result,id:o})}.bind(this))}}});e.extensions.fileDragging=r};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}return t.default=e,t}(n(2))}});