webpackJsonp([34],{112:function(e,t,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){JSONEditor.defaults.resolvers.unshift(function(e){if("string"===e.type&&"textarea"===e.format&&e.options&&"ace"===e.options.editor)return"ace"}),JSONEditor.defaults.editors.ace=JSONEditor.defaults.editors.string.extend({refreshValue:function(){this.value=this.value,this.serialized=this.value},setValue:function(e,t,i){if((!this.template||i)&&(null===e||void 0===e?e="":"object"===(void 0===e?"undefined":n(e))?e=JSON.stringify(e):"string"!=typeof e&&(e=""+e),e!==this.serialized)){var o=this.sanitize(e);if(this.input.value!==o){this.value=o,this.ace_editor&&this.ace_editor.setValue(o);var r=i||this.getValue()!==e;this.refreshValue(),t?this.is_dirty=!1:"change"===this.jsoneditor.options.show_errors&&(this.is_dirty=!0),this.adjust_height&&this.adjust_height(this.input),this.onChange(r)}}},afterInputReady:function(){var e=this,t=this.options.language,n=this.options.htmlHelp;i.e(37).then(i.bind(null,567)).then(function(e){return window.ace=e,Promise.all([i.e(42).then(i.bind(null,569)),i.e(43).then(i.bind(null,571)),i.e(36).then(i.bind(null,572))])}).then(function(i){e.ace_container=document.createElement("div"),e.ace_container.style.width="100%",e.ace_container.style.position="relative",e.input.parentNode.insertBefore(e.ace_container,e.input),e.input.style.display="none",e.ace_editor=window.ace.edit(e.ace_container),e.ace_editor.setValue(e.getValue()),e.ace_editor.getSession().setMode("ace/mode/"+t),e.ace_editor.getSession().selection.clearSelection(),e.ace_editor.setTheme("ace/theme/github"),e.ace_editor.setOptions({minLines:5,maxLines:1/0}),e.ace_editor.on("change",function(){var t=e.ace_editor.getValue();e.value=t,e.refreshValue(),e.is_dirty=!0,e.onChange(!0)}),e.theme.afterInputReady(e.input);var o=document.createElement("div");if("javascript"==t||"json"==t){var r=document.createElement("button");r.className="btn btn-info",r.innerHTML="tidy",r.addEventListener("click",function(){var t=i[2],n=e.ace_editor.getSession();new Promise(function(e,t){e(n.getValue())}).then(function(e){return t(e)}).then(function(e){n.setValue(e)}).catch(function(e){mx.helpers.modal({id:"modalError",title:"Error",content:"<p>Error during tidy process :"+e})})}),o.appendChild(r)}if(n){var a=mx.helpers.textToDom(n),s=document.createElement("button");s.className="btn btn-info",s.innerHTML="help",s.addEventListener("click",function(){mx.helpers.modal({id:"modalHelp",title:"Map-x help",content:a})}),o.appendChild(s)}e.input.parentNode.insertBefore(o,e.ace_container)})},destroy:function(){this.ace_editor&&this.ace_editor.destroy()}})}()}});