webpackJsonp([40],{170:function(e,t,i){function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){"use strict";JSONEditor.defaults.resolvers.unshift(function(e){if("string"===e.type&&"textarea"===e.format&&e.options&&"ace"===e.options.editor)return"ace"}),JSONEditor.defaults.editors.ace=JSONEditor.defaults.editors.string.extend({refreshValue:function(){this.value=this.value||"",this.serialized=this.value},setValue:function(e,t,i){if((!this.template||i)&&(null===e||"undefined"===typeof e?e="":"object"===n(e)?e=JSON.stringify(e):"string"!==typeof e&&(e=""+e),e!==this.serialized)){var o=this.sanitize(e);if(this.input.value!==o){this.value=o,this.ace_editor&&this.ace_editor.setValue(o);var a=i||this.getValue()!==e;this.refreshValue(),t?this.is_dirty=!1:"change"===this.jsoneditor.options.show_errors&&(this.is_dirty=!0),this.adjust_height&&this.adjust_height(this.input),this.onChange(a)}}},afterInputReady:function(){var e=this,t=this.options.language;e.options.hidden?e.theme.afterInputReady(e.input):i.e(53).then(i.bind(null,435)).then(function(e){return window.ace=e,Promise.all([function(e){var t;switch(e){case"html":t=i.e(45).then(i.bind(null,430));break;case"javascript":t=i.e(52).then(i.bind(null,433));break;default:t=i.e(55).then(i.bind(null,434))}return t}(t),i.e(54).then(i.bind(null,436)),i.e(44).then(i.bind(null,437))])}).then(function(i){e.ace_container=document.createElement("div"),e.ace_container.style.width="100%",e.ace_container.style.position="relative",e.input.parentNode.insertBefore(e.ace_container,e.input),e.input.style.display="none",e.ace_editor=window.ace.edit(e.ace_container),e.ace_editor.setValue(e.getValue()||""),e.ace_editor.getSession().setMode("ace/mode/"+t),e.ace_editor.getSession().selection.clearSelection(),e.ace_editor.setTheme("ace/theme/github"),e.ace_editor.setOptions({minLines:1,maxLines:1/0}),e.ace_editor.on("change",function(){var t=e.ace_editor.getValue()||"";e.value=t,e.refreshValue(),e.is_dirty=!0,e.onChange(!0)}),e.theme.afterInputReady(e.input);var n=document.createElement("div");if(!0===e.options.readOnly&&e.ace_editor.setReadOnly(!0),("javascript"==t||"json"==t)&&!0!==e.options.readOnly){var o=document.createElement("button");o.className="btn btn-info",o.innerHTML="tidy",o.addEventListener("click",function(){var t=i[2],n=e.ace_editor.getSession();new Promise(function(e,t){e(n.getValue()||"")}).then(function(e){return t(e)}).then(function(e){n.setValue(e)}).catch(function(e){mx.helpers.modal({id:"modalError",title:"Error",content:"<p>Error during tidy process :"+e})})}),n.appendChild(o)}if(e.options.htmlHelp){var a=mx.helpers.textToDom(e.options.htmlHelp),s=document.createElement("button");s.className="btn btn-info",s.innerHTML="help",s.addEventListener("click",function(){mx.helpers.modal({id:"modalHelp",title:"Map-x help",content:a})}),n.appendChild(s)}e.input.parentNode.insertBefore(n,e.ace_container)})},disable:function(){this.input.disabled=!0,this.ace_editor&&this.ace_editor.setReadOnly(!0),this._super()},enable:function(){this.always_disabled||(this.input.disabled=!1,this.ace_editor&&this.ace_editor.setReadOnly(!1)),this._super()},destroy:function(){this.ace_editor&&this.ace_editor.destroy()}})}()}});