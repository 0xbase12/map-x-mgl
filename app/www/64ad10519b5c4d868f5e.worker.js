!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"===typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var l,u=[],c=!1,h=-1;function f(){c&&l&&(c=!1,l.length?u=l.concat(u):h=-1,u.length&&p())}function p(){if(!c){var e=a(f);c=!0;for(var t=u.length;t;){for(l=u,u=[];++h<t;)l&&l[h].run();h=-1,t=u.length}l=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function y(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new y(e,t)),1!==u.length||c||a(p)},y.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"coordEach",function(){return i}),n.d(t,"coordReduce",function(){return o}),n.d(t,"propEach",function(){return s}),n.d(t,"propReduce",function(){return a}),n.d(t,"featureEach",function(){return l}),n.d(t,"featureReduce",function(){return u}),n.d(t,"coordAll",function(){return c}),n.d(t,"geomEach",function(){return h}),n.d(t,"geomReduce",function(){return f}),n.d(t,"flattenEach",function(){return p}),n.d(t,"flattenReduce",function(){return y}),n.d(t,"segmentEach",function(){return g}),n.d(t,"segmentReduce",function(){return m}),n.d(t,"lineEach",function(){return d}),n.d(t,"lineReduce",function(){return b});var r=n(10);function i(e,t,n){if(null!==e)for(var r,o,s,a,l,u,c,h,f=0,p=0,y=e.type,g="FeatureCollection"===y,m="Feature"===y,d=g?e.features.length:1,b=0;b<d;b++){l=(h=!!(c=g?e.features[b].geometry:m?e.geometry:e)&&"GeometryCollection"===c.type)?c.geometries.length:1;for(var _=0;_<l;_++){var v=0,w=0;if(null!==(a=h?c.geometries[_]:c)){u=a.coordinates;var x=a.type;switch(f=!n||"Polygon"!==x&&"MultiPolygon"!==x?0:1,x){case null:break;case"Point":t(u,p,b,v,w),p++,v++;break;case"LineString":case"MultiPoint":for(r=0;r<u.length;r++)t(u[r],p,b,v,w),p++,"MultiPoint"===x&&v++;"LineString"===x&&v++;break;case"Polygon":case"MultiLineString":for(r=0;r<u.length;r++){for(o=0;o<u[r].length-f;o++)t(u[r][o],p,b,v,w),p++;"MultiLineString"===x&&v++,"Polygon"===x&&w++}"Polygon"===x&&v++;break;case"MultiPolygon":for(r=0;r<u.length;r++){for("MultiPolygon"===x&&(w=0),o=0;o<u[r].length;o++){for(s=0;s<u[r][o].length-f;s++)t(u[r][o][s],p,b,v,w),p++;w++}v++}break;case"GeometryCollection":for(r=0;r<a.geometries.length;r++)i(a.geometries[r],t,n);break;default:throw new Error("Unknown Geometry Type")}}}}}function o(e,t,n,r){var o=n;return i(e,function(e,r,i,s,a){o=0===r&&void 0===n?e:t(o,e,r,i,s,a)},r),o}function s(e,t){var n;switch(e.type){case"FeatureCollection":for(n=0;n<e.features.length;n++)t(e.features[n].properties,n);break;case"Feature":t(e.properties,0)}}function a(e,t,n){var r=n;return s(e,function(e,i){r=0===i&&void 0===n?e:t(r,e,i)}),r}function l(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var n=0;n<e.features.length;n++)t(e.features[n],n)}function u(e,t,n){var r=n;return l(e,function(e,i){r=0===i&&void 0===n?e:t(r,e,i)}),r}function c(e){var t=[];return i(e,function(e){t.push(e)}),t}function h(e,t){var n,r,i,o,s,a,l,u,c,h,f=0,p="FeatureCollection"===e.type,y="Feature"===e.type,g=p?e.features.length:1;for(n=0;n<g;n++){for(a=p?e.features[n].geometry:y?e.geometry:e,u=p?e.features[n].properties:y?e.properties:{},c=p?e.features[n].bbox:y?e.bbox:void 0,h=p?e.features[n].id:y?e.id:void 0,s=(l=!!a&&"GeometryCollection"===a.type)?a.geometries.length:1,i=0;i<s;i++)if(null!==(o=l?a.geometries[i]:a))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":t(o,f,u,c,h);break;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)t(o.geometries[r],f,u,c,h);break;default:throw new Error("Unknown Geometry Type")}else t(null,f,u,c,h);f++}}function f(e,t,n){var r=n;return h(e,function(e,i,o,s,a){r=0===i&&void 0===n?e:t(r,e,i,o,s,a)}),r}function p(e,t){h(e,function(e,n,i,o,s){var a,l=null===e?null:e.type;switch(l){case null:case"Point":case"LineString":case"Polygon":return void t(Object(r.a)(e,i,{bbox:o,id:s}),n,0)}switch(l){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon"}e.coordinates.forEach(function(e,o){var s={type:a,coordinates:e};t(Object(r.a)(s,i),n,o)})})}function y(e,t,n){var r=n;return p(e,function(e,i,o){r=0===i&&0===o&&void 0===n?e:t(r,e,i,o)}),r}function g(e,t){p(e,function(e,n,i){var s=0;if(e.geometry){var a=e.geometry.type;"Point"!==a&&"MultiPoint"!==a&&o(e,function(o,a,l,u,c,h){var f=Object(r.b)([o,a],e.properties);return t(f,n,i,h,s),s++,a})}})}function m(e,t,n){var r=n,i=!1;return g(e,function(e,o,s,a,l){r=!1===i&&void 0===n?e:t(r,e,o,s,a,l),i=!0}),r}function d(e,t){if(!e)throw new Error("geojson is required");p(e,function(e,n,i){if(null!==e.geometry){var o=e.geometry.type,s=e.geometry.coordinates;switch(o){case"LineString":t(e,n,i,0,0);break;case"Polygon":for(var a=0;a<s.length;a++)t(Object(r.b)(s[a],e.properties),n,i,a)}}})}function b(e,t,n){var r=n;return d(e,function(e,i,o,s){r=0===i&&void 0===n?e:t(r,e,i,o,s)}),r}},function(e,t,n){"use strict";var r,i=u(n(3)),o=n(1),s=(r=n(11))&&r.__esModule?r:{default:r},a=u(n(12)),l=u(n(13));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}var c={Point:"circle",MultiPoint:"line",LineString:"line",MultiLineString:"line",Polygon:"fill",MultiPolygon:"fill",GeometryCollection:"fill"};postMessage({progress:0,message:"start"}),onmessage=function(e){try{var t="",n=e.data,r=n.data,u=n.fileName,h=(n.fileType,0),f=function(){return" "+(new Date-h)+" ms "};h=new Date;var p=i.hint(r),y=p.filter(function(e){return"error"==e.level}),g=p.filter(function(e){return"message"==e.level});if(postMessage({progress:60,message:"Validation done in "+f()}),g.length>0){g.length+" warning message(s) found. Check the console for more info",postMessage({progress:75,message:g.length+" warnings found. Please check the console."});for(var m=g,d=0;d<m.length;d++)J=m[d],console.log({file:u,warnings:JSON.stringify(J)})}if(y.length>0){t=y.length+" errors found. Please check the console.",postMessage({progress:100,message:t,errorMessage:t});for(var b=y,_=function(e){console.log({file:u,errors:e})},v=0;v<b.length;v++)_(b[v]);return}var w=[];if(r.features){for(var x=r.features,k=function(e){return e.geometry&&e.geometry.type?e.geometry.type:void 0},P=[],j=0;j<x.length;j++)P.push(k(x[j]));w=P.filter(function(e,t,n){return n.indexOf(e)===t&&void 0!==e})}else w=[r.geometry.type];postMessage({progress:90,message:"Geometry type found in "+f()}),(0,o.featureEach)(r,function(e,t){null===e.geometry&&(e.geometry={type:w[0],coordinates:[]})});var S,E={};for(S in E.tmp={},E.init=!1,(0,o.propEach)(r,function(e){if(!E.init){for(S in e)E.tmp[S]=[];E.init=!0}for(S in e)E.tmp[S]&&e[S]&&E.tmp[S].push(e[S])}),E.tmp)E[S]=a.getArrayStat({arr:E.tmp[S],stat:"distinct"});delete E.tmp,delete E.init;var M=(0,s.default)(r);if(Math.round(M[0])>180||Math.round(M[0])<-180||Math.round(M[1])>90||Math.round(M[1])<-90||Math.round(M[2])>180||Math.round(M[2])<-180||Math.round(M[3])>90||Math.round(M[3])<-90)return t=u+" : extent seems to be out of range: "+M,postMessage({progress:100,msssage:t,errorMessage:t}),void console.log({errors:t});postMessage({progress:80,message:"extent found in "+f()});if(r.features){for(var O=r.features,A=function(e){return c[e.geometry.type]},L=[],N=0;N<O.length;N++)L.push(A(O[N]));w=L.filter(function(e,t,n){return n.indexOf(e)===t})}else w=[c[r.geometry.type]];if(postMessage({progress:90,message:"Geom type is "+w+". Found in "+f()}),w.length>1){var T="Multi geometry not yet implemented";return postMessage({progress:100,msssage:T,errorMessage:u+": "+T}),void console.log({errors:u+": "+T+".("+w+")"})}var $="MX-DROP-"+u,F=$+"-SRC",I=Math.random(),C=l.randomHsl(.3,I),R=l.randomHsl(.9,I),G=w[0],q={circle:{id:$,source:F,type:G,paint:{"circle-color":C,"circle-radius":10,"circle-stroke-width":1,"circle-stroke-color":R}},fill:{id:$,source:F,type:G,paint:{"fill-color":C,"fill-outline-color":R}},line:{id:$,source:F,type:G,paint:{"line-color":C,"line-width":10}}};postMessage({progress:99,message:"Worker job done in "+f(),id:$,extent:M,attributes:E,layer:q[G],geojson:r})}catch(e){console.log(e),postMessage({progress:100,errorMessage:"An error occured, check the console"})}var J}},function(e,t,n){var r=n(4),i=n(8);e.exports.hint=function(e,t){var n,o=[];if("object"===typeof e)n=e;else{if("string"!==typeof e)return[{message:"Expected string or object as input",line:0}];try{n=r.parse(e)}catch(e){var s=e.message.match(/line (\d+)/);return[{line:parseInt(s[1],10)-1,message:e.message,error:e}]}}return o=o.concat(i.hint(n,t))}},function(e,t,n){(function(e,r){var i=function(){var e=function(e,t,n,r){for(n=n||{},r=e.length;r--;n[e[r]]=t);return n},t=[1,12],n=[1,13],r=[1,9],i=[1,10],o=[1,11],s=[1,14],a=[1,15],l=[14,18,22,24],u=[18,22],c=[22,24],h={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(e,t,n,r,i,o,s){var a=o.length-1;switch(i){case 1:this.$=e.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(e);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=o[a-1];case 13:this.$={},Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 14:case 19:this.$=o[a-1],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 15:this.$=[o[a-2],o[a]];break;case 16:this.$={},this.$[o[a][0]]=o[a][1];break;case 17:this.$=o[a-2],void 0!==o[a-2][o[a][0]]&&(this.$.__duplicateProperties__||Object.defineProperty(this.$,"__duplicateProperties__",{value:[],enumerable:!1}),this.$.__duplicateProperties__.push(o[a][0])),o[a-2][o[a][0]]=o[a][1];break;case 18:this.$=[],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 20:this.$=[o[a]];break;case 21:this.$=o[a-2],o[a-2].push(o[a])}},table:[{3:5,4:t,5:6,6:n,7:3,8:r,9:4,10:i,11:o,12:1,13:2,15:7,16:8,17:s,23:a},{1:[3]},{14:[1,16]},e(l,[2,7]),e(l,[2,8]),e(l,[2,9]),e(l,[2,10]),e(l,[2,11]),e(l,[2,12]),e(l,[2,3]),e(l,[2,4]),e(l,[2,5]),e([14,18,21,22,24],[2,1]),e(l,[2,2]),{3:20,4:t,18:[1,17],19:18,20:19},{3:5,4:t,5:6,6:n,7:3,8:r,9:4,10:i,11:o,13:23,15:7,16:8,17:s,23:a,24:[1,21],25:22},{1:[2,6]},e(l,[2,13]),{18:[1,24],22:[1,25]},e(u,[2,16]),{21:[1,26]},e(l,[2,18]),{22:[1,28],24:[1,27]},e(c,[2,20]),e(l,[2,14]),{3:20,4:t,20:29},{3:5,4:t,5:6,6:n,7:3,8:r,9:4,10:i,11:o,13:30,15:7,16:8,17:s,23:a},e(l,[2,19]),{3:5,4:t,5:6,6:n,7:3,8:r,9:4,10:i,11:o,13:31,15:7,16:8,17:s,23:a},e(u,[2,17]),e(u,[2,15]),e(c,[2,21])],defaultActions:{16:[2,6]},parseError:function(e,t){if(!t.recoverable){function n(e,t){this.message=e,this.hash=t}throw n.prototype=Error,new n(e,t)}this.trace(e)},parse:function(e){var t=this,n=[0],r=[null],i=[],o=this.table,s="",a=0,l=0,u=0,c=i.slice.call(arguments,1),h=Object.create(this.lexer),f={yy:{}};for(var p in this.yy)Object.prototype.hasOwnProperty.call(this.yy,p)&&(f.yy[p]=this.yy[p]);h.setInput(e,f.yy),f.yy.lexer=h,f.yy.parser=this,"undefined"==typeof h.yylloc&&(h.yylloc={});var y=h.yylloc;i.push(y);var g=h.options&&h.options.ranges;"function"===typeof f.yy.parseError?this.parseError=f.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var m,d,b,_,v,w,x,k,P,j=function(){var e;return"number"!==typeof(e=h.lex()||1)&&(e=t.symbols_[e]||e),e},S={};;){if(b=n[n.length-1],this.defaultActions[b]?_=this.defaultActions[b]:(null!==m&&"undefined"!=typeof m||(m=j()),_=o[b]&&o[b][m]),"undefined"===typeof _||!_.length||!_[0]){var E="";for(w in P=[],o[b])this.terminals_[w]&&w>2&&P.push("'"+this.terminals_[w]+"'");E=h.showPosition?"Parse error on line "+(a+1)+":\n"+h.showPosition()+"\nExpecting "+P.join(", ")+", got '"+(this.terminals_[m]||m)+"'":"Parse error on line "+(a+1)+": Unexpected "+(1==m?"end of input":"'"+(this.terminals_[m]||m)+"'"),this.parseError(E,{text:h.match,token:this.terminals_[m]||m,line:h.yylineno,loc:y,expected:P})}if(_[0]instanceof Array&&_.length>1)throw new Error("Parse Error: multiple actions possible at state: "+b+", token: "+m);switch(_[0]){case 1:n.push(m),r.push(h.yytext),i.push(h.yylloc),n.push(_[1]),m=null,d?(m=d,d=null):(l=h.yyleng,s=h.yytext,a=h.yylineno,y=h.yylloc,u>0&&u--);break;case 2:if(x=this.productions_[_[1]][1],S.$=r[r.length-x],S._$={first_line:i[i.length-(x||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(x||1)].first_column,last_column:i[i.length-1].last_column},g&&(S._$.range=[i[i.length-(x||1)].range[0],i[i.length-1].range[1]]),"undefined"!==typeof(v=this.performAction.apply(S,[s,l,a,f.yy,_[1],r,i].concat(c))))return v;x&&(n=n.slice(0,-1*x*2),r=r.slice(0,-1*x),i=i.slice(0,-1*x)),n.push(this.productions_[_[1]][0]),r.push(S.$),i.push(S._$),k=o[n[n.length-2]][n[n.length-1]],n.push(k);break;case 3:return!0}}return!0}},f={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],n=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!t||n[0].length>t[0].length)){if(t=n,r=o,this.options.backtrack_lexer){if(!1!==(e=this.test_match(n,i[o])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,i[r]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return e||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(e,t,n,r){switch(n){case 0:break;case 1:return 6;case 2:return t.yytext=t.yytext.substr(1,t.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt\/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};function p(){this.yy={}}return h.lexer=f,p.prototype=h,h.Parser=p,new p}();t.parser=i,t.Parser=i.Parser,t.parse=function(){return i.parse.apply(i,arguments)},t.main=function(r){r[1]||(console.log("Usage: "+r[0]+" FILE"),e.exit(1));var i=n(6).readFileSync(n(7).normalize(r[1]),"utf8");return t.parser.parse(i)},"undefined"!==typeof r&&n.c[n.s]===r&&t.main(e.argv.slice(1))}).call(t,n(0),n(5)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(e){return r.exec(e).slice(1)};function o(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",r=!1,i=arguments.length-1;i>=-1&&!r;i--){var s=i>=0?arguments[i]:e.cwd();if("string"!==typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,r="/"===s.charAt(0))}return t=n(o(t.split("/"),function(e){return!!e}),!r).join("/"),(r?"/":"")+t||"."},t.normalize=function(e){var r=t.isAbsolute(e),i="/"===s(e,-1);return(e=n(o(e.split("/"),function(e){return!!e}),!r).join("/"))||r||(e="."),e&&i&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(o(e,function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),o=r(n.split("/")),s=Math.min(i.length,o.length),a=s,l=0;l<s;l++)if(i[l]!==o[l]){a=l;break}var u=[];for(l=a;l<i.length;l++)u.push("..");return(u=u.concat(o.slice(a))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=i(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},t.basename=function(e,t){var n=i(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){return i(e)[3]};var s="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(t,n(0))},function(e,t,n){var r=n(9);e.exports.hint=function(e,t){var n=[],i=0,o=10,s=6;function a(e){if(t&&!1===t.noDuplicateMembers||!e.__duplicateProperties__||n.push({message:"An object contained duplicate members, making parsing ambigous: "+e.__duplicateProperties__.join(", "),line:e.__line__}),!u(e,"type","string"))if(g[e.type])e&&g[e.type](e);else{var r=m[e.type.toLowerCase()];void 0!==r?n.push({message:"Expected "+r+" but got "+e.type+" (case sensitive)",line:e.__line__}):n.push({message:"The type "+e.type+" is unknown",line:e.__line__})}}function l(e,t){return e.every(function(e){return null!==e&&typeof e===t})}function u(e,t,r){if("undefined"===typeof e[t])return n.push({message:'"'+t+'" member required',line:e.__line__});if("array"===r){if(!Array.isArray(e[t]))return n.push({message:'"'+t+'" member should be an array, but is an '+typeof e[t]+" instead",line:e.__line__})}else{if("object"===r&&e[t]&&"Object"!==e[t].constructor.name)return n.push({message:'"'+t+'" member should be '+r+", but is an "+e[t].constructor.name+" instead",line:e.__line__});if(r&&typeof e[t]!==r)return n.push({message:'"'+t+'" member should be '+r+", but is an "+typeof e[t]+" instead",line:e.__line__})}}function c(e,r){if(!Array.isArray(e))return n.push({message:"position should be an array, is a "+typeof e+" instead",line:e.__line__||r});if(e.length<2)return n.push({message:"position must have 2 or more elements",line:e.__line__||r});if(e.length>3)return n.push({message:"position should not have more than 3 elements",line:e.__line__||r});if(!l(e,"number"))return n.push({message:"each element in a position must be a number",line:e.__line__||r});if(t&&t.precisionWarning){if(i===o)return i+=1,n.push({message:"truncated warnings: we've encountered coordinate precision warning "+o+" times, no more warnings will be reported",level:"message",line:e.__line__||r});i<o&&e.forEach(function(t){var o=0,a=String(t).split(".")[1];if(void 0!==a&&(o=a.length),o>s)return i+=1,n.push({message:"precision of coordinates should be reduced",level:"message",line:e.__line__||r})})}}function h(e,t,r,i){if(void 0===i&&void 0!==e.__line__&&(i=e.__line__),0===r)return c(e,i);if(1===r&&t)if("LinearRing"===t){if(!Array.isArray(e[e.length-1]))return n.push({message:"a number was found where a coordinate array should have been found: this needs to be nested more deeply",line:i}),!0;if(e.length<4&&n.push({message:"a LinearRing of coordinates needs to have four or more positions",line:i}),e.length&&(e[e.length-1].length!==e[0].length||!e[e.length-1].every(function(t,n){return e[0][n]===t})))return n.push({message:"the first and last positions in a LinearRing of coordinates must be the same",line:i}),!0}else if("Line"===t&&e.length<2)return n.push({message:"a line needs to have two or more coordinates to be valid",line:i});if(Array.isArray(e))return e.map(function(e){return h(e,t,r-1,e.__line__||i)}).some(function(e){return e});n.push({message:"a number was found where a coordinate array should have been found: this needs to be nested more deeply",line:i})}function f(e){e.crs&&("object"===typeof e.crs&&e.crs.properties&&"urn:ogc:def:crs:OGC:1.3:CRS84"===e.crs.properties.name?n.push({message:"old-style crs member is not recommended, this object is equivalent to the default and should be removed",line:e.__line__}):n.push({message:"old-style crs member is not recommended",line:e.__line__}))}function p(e){if(e.bbox)return Array.isArray(e.bbox)?(l(e.bbox,"number")||n.push({message:"each element in a bbox member must be a number",line:e.bbox.__line__}),4!==e.bbox.length&&6!==e.bbox.length&&n.push({message:"bbox must contain 4 elements (for 2D) or 6 elements (for 3D)",line:e.bbox.__line__}),n.length):void n.push({message:"bbox member must be an array of numbers, but is a "+typeof e.bbox,line:e.__line__})}function y(e){f(e),p(e),void 0!==e.id&&"string"!==typeof e.id&&"number"!==typeof e.id&&n.push({message:'Feature "id" member must have a string or number value',line:e.__line__}),void 0!==e.features&&n.push({message:'Feature object cannot contain a "features" member',line:e.__line__}),void 0!==e.coordinates&&n.push({message:'Feature object cannot contain a "coordinates" member',line:e.__line__}),"Feature"!==e.type&&n.push({message:"GeoJSON features must have a type=feature member",line:e.__line__}),u(e,"properties","object"),u(e,"geometry","object")||e.geometry&&a(e.geometry)}var g={Point:function(e){var t;f(e),p(e),void 0!==(t=e).properties&&n.push({message:'geometry object cannot contain a "properties" member',line:t.__line__}),void 0!==t.geometry&&n.push({message:'geometry object cannot contain a "geometry" member',line:t.__line__}),void 0!==t.features&&n.push({message:'geometry object cannot contain a "features" member',line:t.__line__}),u(e,"coordinates","array")||c(e.coordinates)},Feature:y,MultiPoint:function(e){f(e),p(e),u(e,"coordinates","array")||h(e.coordinates,"",1)},LineString:function(e){f(e),p(e),u(e,"coordinates","array")||h(e.coordinates,"Line",1)},MultiLineString:function(e){f(e),p(e),u(e,"coordinates","array")||h(e.coordinates,"Line",2)},FeatureCollection:function(e){if(f(e),p(e),void 0!==e.properties&&n.push({message:'FeatureCollection object cannot contain a "properties" member',line:e.__line__}),void 0!==e.coordinates&&n.push({message:'FeatureCollection object cannot contain a "coordinates" member',line:e.__line__}),!u(e,"features","array")){if(!l(e.features,"object"))return n.push({message:"Every feature must be an object",line:e.__line__});e.features.forEach(y)}},GeometryCollection:function(e){f(e),p(e),u(e,"geometries","array")||(l(e.geometries,"object")||n.push({message:"The geometries array in a GeometryCollection must contain only geometry objects",line:e.__line__}),1===e.geometries.length&&n.push({message:"GeometryCollection with a single geometry should be avoided in favor of single part or a single object of multi-part type",line:e.geometries.__line__}),e.geometries.forEach(function(t){t&&("GeometryCollection"===t.type&&n.push({message:"GeometryCollection should avoid nested geometry collections",line:e.geometries.__line__}),a(t))}))},Polygon:function(e){f(e),p(e),u(e,"coordinates","array")||h(e.coordinates,"LinearRing",2)||r(e,n)},MultiPolygon:function(e){f(e),p(e),u(e,"coordinates","array")||h(e.coordinates,"LinearRing",3)||r(e,n)}},m=Object.keys(g).reduce(function(e,t){return e[t.toLowerCase()]=t,e},{});return"object"!==typeof e||null===e||void 0===e?(n.push({message:"The root of a GeoJSON object must be an object.",line:0}),n):(a(e),n.forEach(function(e){({}).hasOwnProperty.call(e,"line")&&void 0===e.line&&delete e.line}),n)}},function(e,t){function n(e){return e*Math.PI/180}function r(e){var t=0;if(e.length>2)for(var r,i,o=0;o<e.length-1;o++)r=e[o],t+=n((i=e[o+1])[0]-r[0])*(2+Math.sin(n(r[1]))+Math.sin(n(i[1])));return t>=0}function i(e){if(e&&e.length>0){if(r(e[0]))return!1;if(!e.slice(1,e.length).every(r))return!1}return!0}e.exports=function(e,t){(function(e){return"Polygon"===e.type?i(e.coordinates):"MultiPolygon"===e.type?e.coordinates.every(i):void 0})(e)||t.push({message:"Polygons and MultiPolygons should follow the right-hand rule",level:"message",line:e.__line__})}},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});function r(e,t,n){if(!s(n=n||{}))throw new Error("options is invalid");var r=n.bbox,i=n.id;if(void 0===e)throw new Error("geometry is required");if(t&&t.constructor!==Object)throw new Error("properties must be an Object");r&&a(r),i&&l(i);var o={type:"Feature"};return i&&(o.id=i),r&&(o.bbox=r),o.properties=t||{},o.geometry=e,o}function i(e,t,n){if(!e)throw new Error("coordinates is required");if(e.length<2)throw new Error("coordinates must be an array of two or more positions");if(!o(e[0][1])||!o(e[0][1]))throw new Error("coordinates must contain numbers");return r({type:"LineString",coordinates:e},t,n)}function o(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function s(e){return!!e&&e.constructor===Object}function a(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach(function(e){if(!o(e))throw new Error("bbox must only contain numbers")})}function l(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);t.default=function(e){var t=[1/0,1/0,-1/0,-1/0];return Object(r.coordEach)(e,function(e){t[0]>e[0]&&(t[0]=e[0]),t[1]>e[1]&&(t[1]=e[1]),t[2]<e[0]&&(t[2]=e[0]),t[3]<e[1]&&(t[3]=e[1])}),t}},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){for(var t=e.length,n=[];t--;)n[t]=e[t];return n}Object.defineProperty(t,"__esModule",{value:!0}),t.cloneArray=i,t.getArrayStat=function e(t){if(void 0===t.arr||t.arr.constructor!=Array||0===t.arr.length)return[];"quantile"==t.stat&&t.percentile&&t.percentile.constructor==Array&&(t.stat="quantiles");var n=i(t.arr);var o=t.stat?t.stat:"max";var s=n.length;var a=s;function l(e,t){return e-t}var u=/(-?\d*\.?\d+)/g;var c=function(e,t){for(var n=String(e).split(u),r=String(t).split(u),i=Math.min(n.length,r.length),o=0;o<i;o++){var s=parseFloat(n[o])||n[o].toLowerCase(),a=parseFloat(r[o])||r[o].toLowerCase();if(s<a)return-1;if(s>a)return 1}return 0};var h={sortNatural:function(){return n.sort(c)},max:function(){for(var e=-1/0,t=0;a--;)(t=n.pop())>e&&(e=t);return e},min:function(){for(var e=1/0;a--;){var t=n.pop();t<e&&(e=t)}return e},sum:function(){for(var e=0;a--;)e+=n.pop();return e},mean:function(){var t=e({stat:"sum",arr:n});return t/s},median:function(){var t=e({stat:"quantile",arr:n,percentile:50});return t},quantile:function(){var e;n.sort(l),t.percentile=t.percentile?t.percentile:50;var r=t.percentile/100*(n.length-1);if(Math.floor(r)==r)e=n[r];else{var i=Math.floor(r),o=r-i;e=n[i]+(n[i+1]-n[i])*o}return e},quantiles:function(){for(var r={},i=t.percentile,o=function(t){var i=e({stat:"quantile",arr:n,percentile:t});r[t]=i},s=0;s<i.length;s++)o(i[s]);return r},distinct:function(){for(var e={},t=[];a--;)n[a]&&!e[n[a]]&&(e[n[a]]=!0,t.push(n[a]));return t},diff:function(){},frequency:function(){var i=n[0]&&"object"==r(n[0])&&n[0].constructor==Object,o=t.colNames;if(i){if(o.constructor!=Array)throw"colnames must be array";0==o.length&&(o=Object.keys(n[0]))}else o=e({stat:"distinct",arr:n});for(var s,a,l={},u=0,c=o.length;u<c;u++){a=o[u],l[a]=i?{}:0;for(var h=0,f=n.length;h<f;h++)i?(s=n[h][a]||null,l[a][s]=l[a][s]+1||1):n[h]==a&&l[a]++}return l},sumBy:function(){var e=t.colNames;if(e.constructor!=Array)throw"colnames must be array";0==e.length&&(e=Object.keys(n[1]));for(var r,i,o,s={},a=0,l=e.length;a<l;a++){o=e[a];for(var u=0,c=n.length;u<c;u++)r=n[u][o]||0,i=s[o]||0,s[o]=i+r}return s}};return h[o](t)},t.arrayDiff=function(e,t){var n=new Set(t);return e.filter(function(e){return!n.has(e)})}},function(e,t,n){"use strict";function r(e,t,n,r){return void 0===e&&(e=1),void 0===n&&(n=100),void 0==r&&(r=50),(t<0||t>1||void 0===t)&&(t=Math.random()),"hsla("+360*t+", "+n+"% , "+r+"% , "+e+")"}function i(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""}function o(e,t){var n,r,o={alpha:1,color:"#000"},s=document.createElement("div");return s.style.color=e,(r=s.style.color)&&((n=r.split(", ")[3])&&(o.alpha=1*n.replace(")","")),o.color=i(r)),t&&(o=o.color),o}Object.defineProperty(t,"__esModule",{value:!0}),t.randomHsl=r,t.hex2rgba=function(e,t){var n,r=e.replace("#",""),i="rgb";for(r=r.match(new RegExp("(.{"+r.length/3+"})","g")),n=0;n<r.length;n++)r[n]=parseInt(1==r[n].length?r[n]+r[n]:r[n],16);"undefined"!=typeof t&&(t>1&&(t=1),t<0&&(t=0),r.push(t),i="rgba");return i+"("+r.join(",")+")"},t.rgba2hex=i,t.color2obj=o,t.colorLinear=function(e){var t,n=1*e.min||0,i=1*e.max||0,s=1*e.colMin||0,a=1*e.colMax||1,l=e.val;n!=i&&(t=(l-n)/(i-n));return o(t=r(1,t*=a-s),!0)}}]);